const courses=$("#courses");let previousbtn=$("#1");previousbtn.parent().toggleClass("active",!0);const maxPages=$("#Previous").attr("data-max")-0;1===maxPages&&$("#Next").toggleClass("disabled",!0);const nums=$(".num");async function DisplayPage(page){let result;courses.empty(),(await GetPage(page)).forEach(el=>{courses.append('            <div class="col-lg-4 mb-3 d-flex align-items-stretch">\n              <div class="card">\n'+`                <img src="${el.imgsrc}" class="card-img-top img-fluid" alt="Course image">\n`+'                <div class="card-body">\n'+`                  <h5 class="card-title">${el.title}</h5>\n`+`<a class="btn btn-primary" href="/Course/${el.course_uid}">Learn more</a>`+"                </div>\n              </div>\n            </div>")})}document.getElementById("Previous").addEventListener("click",async e=>{if(e.target.classList.contains("disabled"))return;const page=previousbtn.attr("id")-1;e=$(e.target),$("#Next").toggleClass("disabled",!1),1===page&&$("#Previous").toggleClass("disabled",!0),previousbtn.parent().toggleClass("active",!1),previousbtn=$("#"+page),previousbtn.parent().addClass("active",!0),await DisplayPage(page)}),document.getElementById("Next").addEventListener("click",async e=>{if(e.target.classList.contains("disabled"))return;const page=previousbtn.attr("id")-0+1;e=$(e.target),$("#Previous").toggleClass("disabled",!1),console.log(page,maxPages),page===maxPages&&$("#Next").toggleClass("disabled",!0),previousbtn.parent().toggleClass("active",!1),previousbtn=$("#"+page),previousbtn.parent().addClass("active",!0),await DisplayPage(page)});for(const el of nums)el.addEventListener("click",async e=>{const page=e.target.id-0;e=$(e.target),1===page?$("#Previous").toggleClass("disabled",!0):$("#Previous").toggleClass("disabled",!1),page===maxPages?$("#Next").toggleClass("disabled",!0):$("#Next").toggleClass("disabled",!1),previousbtn.parent().toggleClass("active",!1),previousbtn=e,e.parent().addClass("active",!0),await DisplayPage(page)});function GetPage(pagenumber){return $.ajax({url:"/api/Course/GetUserCourses",type:"GET",data:{pageNumber:pagenumber},success:data=>data,error:function(xhr,status,error){return console.error(error),null}})}