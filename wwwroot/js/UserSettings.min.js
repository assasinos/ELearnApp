function UpdateInfo(){const e=$("#PersonalForm").serializeArray();console.log(e),$.ajax({url:"/api/Account/UpdatePersonalInfo",type:"PUT",data:e,success:function(e){console.log(e),prepareToast("CheckCircle.svg","Information Updated","Your personal information has been updated successfully.")},error:function(e){console.log(e),prepareToast("xmark.svg","Error",e.responseText)}})}function UpdatePassword(){const e=$("#newpassword");if(""===e.val()||null===e.val())return void prepareToast("xmark.svg","Error","Password cannot be empty");const o=$("#newpasswordrepeat");if(e.val()!==o.val())return void prepareToast("xmark.svg","Error","Passwords do not match.");const a=$("#oldpassword");""!==a.val()&&null!==a.val()?$.ajax({url:"/api/Account/UpdatePassword",type:"PATCH",data:{OldPassword:a.val(),NewPassword:e.val()},success:function(a){prepareToast("CheckCircle.svg","Password Updated","Your password has been updated successfully."),e.val(""),o.val(""),e.val(""),setTimeout(()=>{$.ajax({type:"POST",url:"/api/Account/Logout",success:function(e){location.reload()}})},1e3)},error:function(e){prepareToast("xmark.svg","Error",e.responseText)}}):prepareToast("xmark.svg","Error","Password cannot be empty")}function DeleteAccount(){const e=$("#DeletePassword");if(""===e.val()||null===e.val())return void prepareToast("xmark.svg","Error","Password cannot be empty");const o=$("#DeletePasswordRepeat");e.val()===o.val()?(modalbody.html("<p>Are you sure you want to delete this account?</p><p>Deleting a account will delete all the data related to this account</p>"),modaldiv.modal("show"),$("#ConfirmButton").one("click",()=>{$.ajax({url:"/api/Account/DeleteAccount",type:"DELETE",data:{confirmpassword:e.val()},success:function(a){prepareToast("CheckCircle.svg","Account Deleted","Your Account has been deleted successfully."),e.val(""),o.val(""),e.val(""),setTimeout(()=>{$.ajax({type:"POST",url:"/api/Account/Logout",success:function(e){location.reload()}})},1e3)},error:function(e){prepareToast("xmark.svg","Error",e.responseText)}}),modaldiv.modal("hide")})):prepareToast("xmark.svg","Error","Passwords do not match.")}const modaldiv=$("#ConfirmModal"),modalbody=$(".modal-body");onsubmit=function(e){switch(e.preventDefault(),e.submitter.id){case"PersonalInfoBTN":UpdateInfo();break;case"PasswordBTN":UpdatePassword();break;case"DeleteAccountBTN":DeleteAccount()}};